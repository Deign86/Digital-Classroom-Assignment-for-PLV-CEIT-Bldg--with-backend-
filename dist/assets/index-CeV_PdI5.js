const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminDashboard-S-AaaD_6.js","assets/radix-vendor-DJ-YvGDu.js","assets/react-vendor-D3F3s8fL.js","assets/card-CAPkH_Ba.js","assets/ProfileSettings-CcFgRQ_g.js","assets/phosphor-icons-Bxvu7rVk.js","assets/lucide-react-zzbXK0ST.js","assets/utils-vendor-Cr9tsIwC.js","assets/analytics-sonner-BjpdSZ9P.js","assets/firebase-firestore-CJaC6VT2.js","assets/firebase-core-M-mnVknd.js","assets/firebase-auth-MTDr6AF2.js","assets/firebase-functions-D39bosM8.js","assets/FacultyDashboard-Dut6UBYd.js","assets/FacultyDashboard-D27E_wyY.css","assets/SignupHistoryPage-Byl99uO1.js"])))=>i.map(i=>d[i]);
import{r as d,b as oa,j as n,S as ia,P as la,T as os,I as ca,c as da,C as is,V as ua,d as ls,e as ma,f as fa,g as pa,h as ha,i as ga,k as ya,L as cs,l as ds,m as us,n as wa,o as ms,p as Nt,O as fs,q as ps,s as hs,D as gs,t as xa,u as va,v as ys,w as ws,A as xs,x as vs,y as ba,z as Sa,B as Ea,E as Na,F as ja,R as Be}from"./radix-vendor-DJ-YvGDu.js";import{a as Ra,g as Ca}from"./react-vendor-D3F3s8fL.js";import{t as ka,c as Ia,a as Aa}from"./utils-vendor-Cr9tsIwC.js";import{C as bs,a as Pa,b as Ta,X as Ua,M as mt,c as La,d as le,L as Ve,E as nt,e as ot,U as Bt,f as _a,R as Da}from"./lucide-react-zzbXK0ST.js";import{t as S,T as Fa}from"./analytics-sonner-BjpdSZ9P.js";import{g as qa,d as L,a as Q,u as ie,c as _,b as W,q,w as G,e as ye,f as Oe,o as $,s as ft,h as Ba,i as Ne}from"./firebase-firestore-CJaC6VT2.js";import{s as se,E as Oa,r as $a,u as Ma,c as za,a as Va,b as Ot,d as Ha,e as $t,f as Mt,g as Ga,o as Wa}from"./firebase-auth-MTDr6AF2.js";import{B as Qa,D as Ka,l as Ya}from"./firebase-core-M-mnVknd.js";import{g as Je,h as De}from"./firebase-functions-D39bosM8.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();var He={},zt;function Ja(){if(zt)return He;zt=1;var e=Ra();return He.createRoot=e.createRoot,He.hydrateRoot=e.hydrateRoot,He}var Za=Ja();const Xa=Ca(Za),er="modulepreload",tr=function(e){return"/"+e},Vt={},jt=function(t,s,a){let r=Promise.resolve();if(s&&s.length>0){let c=function(u){return Promise.all(u.map(m=>Promise.resolve(m).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),i=l?.nonce||l?.getAttribute("nonce");r=c(s.map(u=>{if(u=tr(u),u in Vt)return;Vt[u]=!0;const m=u.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":er,m||(x.as="script"),x.crossOrigin="",x.href=u,i&&x.setAttribute("nonce",i),document.head.appendChild(x),m)return new Promise((w,N)=>{x.addEventListener("load",w),x.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(l){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l}return r.then(l=>{for(const i of l||[])i.status==="rejected"&&o(i.reason);return t().catch(o)})};/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fe(){return Fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Fe.apply(this,arguments)}var ue;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ue||(ue={}));const Ht="popstate";function sr(e){e===void 0&&(e={});function t(a,r){let{pathname:o,search:l,hash:i}=a.location;return pt("",{pathname:o,search:l,hash:i},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function s(a,r){return typeof r=="string"?r:Es(r)}return rr(t,s,null,e)}function M(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ss(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ar(){return Math.random().toString(36).substr(2,8)}function Gt(e,t){return{usr:e.state,key:e.key,idx:t}}function pt(e,t,s,a){return s===void 0&&(s=null),Fe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?je(t):t,{state:s,key:t&&t.key||a||ar()})}function Es(e){let{pathname:t="/",search:s="",hash:a=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function je(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function rr(e,t,s,a){a===void 0&&(a={});let{window:r=document.defaultView,v5Compat:o=!1}=a,l=r.history,i=ue.Pop,c=null,u=m();u==null&&(u=0,l.replaceState(Fe({},l.state,{idx:u}),""));function m(){return(l.state||{idx:null}).idx}function f(){i=ue.Pop;let v=m(),A=v==null?null:v-u;u=v,c&&c({action:i,location:b.location,delta:A})}function x(v,A){i=ue.Push;let P=pt(b.location,v,A);u=m()+1;let U=Gt(P,u),K=b.createHref(P);try{l.pushState(U,"",K)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign(K)}o&&c&&c({action:i,location:b.location,delta:1})}function w(v,A){i=ue.Replace;let P=pt(b.location,v,A);u=m();let U=Gt(P,u),K=b.createHref(P);l.replaceState(U,"",K),o&&c&&c({action:i,location:b.location,delta:0})}function N(v){let A=r.location.origin!=="null"?r.location.origin:r.location.href,P=typeof v=="string"?v:Es(v);return P=P.replace(/ $/,"%20"),M(A,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,A)}let b={get action(){return i},get location(){return e(r,l)},listen(v){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(Ht,f),c=v,()=>{r.removeEventListener(Ht,f),c=null}},createHref(v){return t(r,v)},createURL:N,encodeLocation(v){let A=N(v);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:x,replace:w,go(v){return l.go(v)}};return b}var Wt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wt||(Wt={}));function nr(e,t,s){return s===void 0&&(s="/"),or(e,t,s)}function or(e,t,s,a){let r=typeof t=="string"?je(t):t,o=Rs(r.pathname||"/",s);if(o==null)return null;let l=Ns(e);ir(l);let i=null;for(let c=0;i==null&&c<l.length;++c){let u=xr(o);i=gr(l[c],u)}return i}function Ns(e,t,s,a){t===void 0&&(t=[]),s===void 0&&(s=[]),a===void 0&&(a="");let r=(o,l,i)=>{let c={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(M(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=he([a,c.relativePath]),m=s.concat(c);o.children&&o.children.length>0&&(M(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ns(o.children,t,m,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:pr(u,o.index),routesMeta:m})};return e.forEach((o,l)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))r(o,l);else for(let c of js(o.path))r(o,l,c)}),t}function js(e){let t=e.split("/");if(t.length===0)return[];let[s,...a]=t,r=s.endsWith("?"),o=s.replace(/\?$/,"");if(a.length===0)return r?[o,""]:[o];let l=js(a.join("/")),i=[];return i.push(...l.map(c=>c===""?o:[o,c].join("/"))),r&&i.push(...l),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function ir(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:hr(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const lr=/^:[\w-]+$/,cr=3,dr=2,ur=1,mr=10,fr=-2,Qt=e=>e==="*";function pr(e,t){let s=e.split("/"),a=s.length;return s.some(Qt)&&(a+=fr),t&&(a+=dr),s.filter(r=>!Qt(r)).reduce((r,o)=>r+(lr.test(o)?cr:o===""?ur:mr),a)}function hr(e,t){return e.length===t.length&&e.slice(0,-1).every((a,r)=>a===t[r])?e[e.length-1]-t[t.length-1]:0}function gr(e,t,s){let{routesMeta:a}=e,r={},o="/",l=[];for(let i=0;i<a.length;++i){let c=a[i],u=i===a.length-1,m=o==="/"?t:t.slice(o.length)||"/",f=yr({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},m),x=c.route;if(!f)return null;Object.assign(r,f.params),l.push({params:r,pathname:he([o,f.pathname]),pathnameBase:jr(he([o,f.pathnameBase])),route:x}),f.pathnameBase!=="/"&&(o=he([o,f.pathnameBase]))}return l}function yr(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,a]=wr(e.path,e.caseSensitive,e.end),r=t.match(s);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:a.reduce((u,m,f)=>{let{paramName:x,isOptional:w}=m;if(x==="*"){let b=i[f]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const N=i[f];return w&&!N?u[x]=void 0:u[x]=(N||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:l,pattern:e}}function wr(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Ss(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,i,c)=>(a.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function xr(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ss(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Rs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=e.charAt(s);return a&&a!=="/"?null:e.slice(s)||"/"}function vr(e,t){t===void 0&&(t="/");let{pathname:s,search:a="",hash:r=""}=typeof e=="string"?je(e):e;return{pathname:s?s.startsWith("/")?s:br(s,t):t,search:Rr(a),hash:Cr(r)}}function br(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function it(e,t,s,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sr(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Er(e,t){let s=Sr(e);return t?s.map((a,r)=>r===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function Nr(e,t,s,a){a===void 0&&(a=!1);let r;typeof e=="string"?r=je(e):(r=Fe({},e),M(!r.pathname||!r.pathname.includes("?"),it("?","pathname","search",r)),M(!r.pathname||!r.pathname.includes("#"),it("#","pathname","hash",r)),M(!r.search||!r.search.includes("#"),it("#","search","hash",r)));let o=e===""||r.pathname==="",l=o?"/":r.pathname,i;if(l==null)i=s;else{let f=t.length-1;if(!a&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),f-=1;r.pathname=x.join("/")}i=f>=0?t[f]:"/"}let c=vr(r,i),u=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||m)&&(c.pathname+="/"),c}const he=e=>e.join("/").replace(/\/\/+/g,"/"),jr=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rr=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cr=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function kr(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cs=["post","put","patch","delete"];new Set(Cs);const Ir=["get",...Cs];new Set(Ir);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qe(){return qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},qe.apply(this,arguments)}const Rt=d.createContext(null),Ar=d.createContext(null),Ze=d.createContext(null),Xe=d.createContext(null),we=d.createContext({outlet:null,matches:[],isDataRoute:!1}),ks=d.createContext(null);function et(){return d.useContext(Xe)!=null}function Is(){return et()||M(!1),d.useContext(Xe).location}function As(e){d.useContext(Ze).static||d.useLayoutEffect(e)}function so(){let{isDataRoute:e}=d.useContext(we);return e?zr():Pr()}function Pr(){et()||M(!1);let e=d.useContext(Rt),{basename:t,future:s,navigator:a}=d.useContext(Ze),{matches:r}=d.useContext(we),{pathname:o}=Is(),l=JSON.stringify(Er(r,s.v7_relativeSplatPath)),i=d.useRef(!1);return As(()=>{i.current=!0}),d.useCallback(function(u,m){if(m===void 0&&(m={}),!i.current)return;if(typeof u=="number"){a.go(u);return}let f=Nr(u,JSON.parse(l),o,m.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:he([t,f.pathname])),(m.replace?a.replace:a.push)(f,m.state,m)},[t,a,l,o,e])}function ao(){let{matches:e}=d.useContext(we),t=e[e.length-1];return t?t.params:{}}function Tr(e,t){return Ur(e,t)}function Ur(e,t,s,a){et()||M(!1);let{navigator:r}=d.useContext(Ze),{matches:o}=d.useContext(we),l=o[o.length-1],i=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let u=Is(),m;if(t){var f;let v=typeof t=="string"?je(t):t;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||M(!1),m=v}else m=u;let x=m.pathname||"/",w=x;if(c!=="/"){let v=c.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(v.length).join("/")}let N=nr(e,{pathname:w}),b=qr(N&&N.map(v=>Object.assign({},v,{params:Object.assign({},i,v.params),pathname:he([c,r.encodeLocation?r.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:he([c,r.encodeLocation?r.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,s,a);return t&&b?d.createElement(Xe.Provider,{value:{location:qe({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:ue.Pop}},b):b}function Lr(){let e=Mr(),t=kr(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),s?d.createElement("pre",{style:r},s):null,null)}const _r=d.createElement(Lr,null);class Dr extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?d.createElement(we.Provider,{value:this.props.routeContext},d.createElement(ks.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fr(e){let{routeContext:t,match:s,children:a}=e,r=d.useContext(Rt);return r&&r.static&&r.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=s.route.id),d.createElement(we.Provider,{value:t},a)}function qr(e,t,s,a){var r;if(t===void 0&&(t=[]),s===void 0&&(s=null),a===void 0&&(a=null),e==null){var o;if(!s)return null;if(s.errors)e=s.matches;else if((o=a)!=null&&o.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let l=e,i=(r=s)==null?void 0:r.errors;if(i!=null){let m=l.findIndex(f=>f.route.id&&i?.[f.route.id]!==void 0);m>=0||M(!1),l=l.slice(0,Math.min(l.length,m+1))}let c=!1,u=-1;if(s&&a&&a.v7_partialHydration)for(let m=0;m<l.length;m++){let f=l[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=m),f.route.id){let{loaderData:x,errors:w}=s,N=f.route.loader&&x[f.route.id]===void 0&&(!w||w[f.route.id]===void 0);if(f.route.lazy||N){c=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((m,f,x)=>{let w,N=!1,b=null,v=null;s&&(w=i&&f.route.id?i[f.route.id]:void 0,b=f.route.errorElement||_r,c&&(u<0&&x===0?(Vr("route-fallback"),N=!0,v=null):u===x&&(N=!0,v=f.route.hydrateFallbackElement||null)));let A=t.concat(l.slice(0,x+1)),P=()=>{let U;return w?U=b:N?U=v:f.route.Component?U=d.createElement(f.route.Component,null):f.route.element?U=f.route.element:U=m,d.createElement(Fr,{match:f,routeContext:{outlet:m,matches:A,isDataRoute:s!=null},children:U})};return s&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?d.createElement(Dr,{location:s.location,revalidation:s.revalidation,component:b,error:w,children:P(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):P()},null)}var Ps=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(Ps||{}),Ts=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Ts||{});function Br(e){let t=d.useContext(Rt);return t||M(!1),t}function Or(e){let t=d.useContext(Ar);return t||M(!1),t}function $r(e){let t=d.useContext(we);return t||M(!1),t}function Us(e){let t=$r(),s=t.matches[t.matches.length-1];return s.route.id||M(!1),s.route.id}function Mr(){var e;let t=d.useContext(ks),s=Or(),a=Us();return t!==void 0?t:(e=s.errors)==null?void 0:e[a]}function zr(){let{router:e}=Br(Ps.UseNavigateStable),t=Us(Ts.UseNavigateStable),s=d.useRef(!1);return As(()=>{s.current=!0}),d.useCallback(function(r,o){o===void 0&&(o={}),s.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,qe({fromRouteId:t},o)))},[e,t])}const Kt={};function Vr(e,t,s){Kt[e]||(Kt[e]=!0)}function Hr(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function ht(e){M(!1)}function Gr(e){let{basename:t="/",children:s=null,location:a,navigationType:r=ue.Pop,navigator:o,static:l=!1,future:i}=e;et()&&M(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:o,static:l,future:qe({v7_relativeSplatPath:!1},i)}),[c,i,o,l]);typeof a=="string"&&(a=je(a));let{pathname:m="/",search:f="",hash:x="",state:w=null,key:N="default"}=a,b=d.useMemo(()=>{let v=Rs(m,c);return v==null?null:{location:{pathname:v,search:f,hash:x,state:w,key:N},navigationType:r}},[c,m,f,x,w,N,r]);return b==null?null:d.createElement(Ze.Provider,{value:u},d.createElement(Xe.Provider,{children:s,value:b}))}function Wr(e){let{children:t,location:s}=e;return Tr(gt(t),s)}new Promise(()=>{});function gt(e,t){t===void 0&&(t=[]);let s=[];return d.Children.forEach(e,(a,r)=>{if(!d.isValidElement(a))return;let o=[...t,r];if(a.type===d.Fragment){s.push.apply(s,gt(a.props.children,o));return}a.type!==ht&&M(!1),!a.props.index||!a.props.children||M(!1);let l={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=gt(a.props.children,o)),s.push(l)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Qr="6";try{window.__reactRouterVersion=Qr}catch{}const Kr="startTransition",Yt=oa[Kr];function Yr(e){let{basename:t,children:s,future:a,window:r}=e,o=d.useRef();o.current==null&&(o.current=sr({window:r,v5Compat:!0}));let l=o.current,[i,c]=d.useState({action:l.action,location:l.location}),{v7_startTransition:u}=a||{},m=d.useCallback(f=>{u&&Yt?Yt(()=>c(f)):c(f)},[c,u]);return d.useLayoutEffect(()=>l.listen(m),[l,m]),d.useEffect(()=>Hr(a),[a]),d.createElement(Gr,{basename:t,children:s,location:i.location,navigationType:i.action,navigator:l,future:a})}var Jt;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jt||(Jt={}));var Zt;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zt||(Zt={}));var Xt={},Jr="@vercel/analytics",Zr="1.5.0",Xr=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function Ls(){return typeof window<"u"}function _s(){try{const e="production"}catch{}return"production"}function en(e="auto"){if(e==="auto"){window.vam=_s();return}window.vam=e}function tn(){return(Ls()?window.vam:_s())||"production"}function yt(){return tn()==="development"}function sn(e){return e.scriptSrc?e.scriptSrc:yt()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function an(e={debug:!0}){var t;if(!Ls())return;en(e.mode),Xr(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const s=sn(e);if(document.head.querySelector(`script[src*="${s}"]`))return;const a=document.createElement("script");a.src=s,a.defer=!0,a.dataset.sdkn=Jr+(e.framework?`/${e.framework}`:""),a.dataset.sdkv=Zr,e.disableAutoTrack&&(a.dataset.disableAutoTrack="1"),e.endpoint?a.dataset.endpoint=e.endpoint:e.basePath&&(a.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(a.dataset.dsn=e.dsn),a.onerror=()=>{const r=yt()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${s}. ${r}`)},yt()&&e.debug===!1&&(a.dataset.debug="false"),document.head.appendChild(a)}function rn({route:e,path:t}){var s;(s=window.va)==null||s.call(window,"pageview",{route:e,path:t})}function nn(){if(!(typeof process>"u"||typeof Xt>"u"))return Xt.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function Ge(e){return d.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),d.useEffect(()=>{an({framework:e.framework||"react",basePath:e.basePath??nn(),...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),d.useEffect(()=>{e.route&&e.path&&rn({route:e.route,path:e.path})},[e.route,e.path]),null}function D(...e){return ka(Ia(e))}const Ct=Aa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),me=d.forwardRef(({className:e,variant:t,size:s,asChild:a=!1,...r},o)=>{const l=a?ia:"button";return n.jsx(l,{"data-slot":"button",className:D(Ct({variant:t,size:s,className:e})),ref:o,...r})});me.displayName="Button";function ce({className:e,type:t,...s}){return n.jsx("input",{type:t,"data-slot":"input",className:D("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}var on="Label",Ds=d.forwardRef((e,t)=>n.jsx(la.label,{...e,ref:t,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Ds.displayName=on;var ln=Ds;function ne({className:e,...t}){return n.jsx(ln,{"data-slot":"label",className:D("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function cn({...e}){return n.jsx(ga,{"data-slot":"select",...e})}function dn({...e}){return n.jsx(ya,{"data-slot":"select-value",...e})}const Fs=d.forwardRef(({className:e,size:t="default",children:s,...a},r)=>n.jsxs(os,{ref:r,"data-slot":"select-trigger","data-size":t,className:D("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[s,n.jsx(ca,{asChild:!0,children:n.jsx(bs,{className:"size-4 opacity-50"})})]}));Fs.displayName=os.displayName;const qs=d.forwardRef(({className:e,children:t,position:s="popper",...a},r)=>n.jsx(da,{children:n.jsxs(is,{ref:r,"data-slot":"select-content",className:D("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...a,children:[n.jsx(un,{}),n.jsx(ua,{className:D("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),n.jsx(mn,{})]})}));qs.displayName=is.displayName;const Bs=d.forwardRef(({className:e,children:t,...s},a)=>n.jsxs(ls,{ref:a,"data-slot":"select-item",className:D("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...s,children:[n.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:n.jsx(ma,{children:n.jsx(Pa,{className:"size-4"})})}),n.jsx(fa,{children:t})]}));Bs.displayName=ls.displayName;function un({className:e,...t}){return n.jsx(pa,{"data-slot":"select-scroll-up-button",className:D("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(Ta,{className:"size-4"})})}function mn({className:e,...t}){return n.jsx(ha,{"data-slot":"select-scroll-down-button",className:D("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(bs,{className:"size-4"})})}const fn=wa,Os=d.forwardRef(({className:e,...t},s)=>n.jsx(cs,{ref:s,className:D("inline-flex h-12 items-center justify-center rounded-xl bg-gray-100 p-1 text-gray-600",e),...t}));Os.displayName=cs.displayName;const wt=d.forwardRef(({className:e,...t},s)=>n.jsx(ds,{ref:s,className:D("inline-flex items-center justify-center whitespace-nowrap rounded-lg px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-gray-900 data-[state=active]:shadow-sm hover:text-gray-900",e),...t}));wt.displayName=ds.displayName;const xt=d.forwardRef(({className:e,...t},s)=>n.jsx(us,{ref:s,className:D("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));xt.displayName=us.displayName;function pn({...e}){return n.jsx(va,{"data-slot":"dialog",...e})}const $s=d.forwardRef(({...e},t)=>n.jsx(ms,{ref:t,"data-slot":"dialog-trigger",...e}));$s.displayName=ms.displayName;function hn({...e}){return n.jsx(xa,{"data-slot":"dialog-portal",...e})}const gn=d.forwardRef(({...e},t)=>n.jsx(Nt,{ref:t,"data-slot":"dialog-close",...e}));gn.displayName=Nt.displayName;const Ms=d.forwardRef(({className:e,...t},s)=>n.jsx(fs,{ref:s,"data-slot":"dialog-overlay",className:D("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));Ms.displayName=fs.displayName;const zs=d.forwardRef(({className:e,children:t,...s},a)=>n.jsxs(hn,{"data-slot":"dialog-portal",children:[n.jsx(Ms,{}),n.jsxs(ps,{ref:a,"data-slot":"dialog-content",className:D("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...s,children:[t,n.jsxs(Nt,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[n.jsx(Ua,{}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zs.displayName=ps.displayName;function yn({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-header",className:D("flex flex-col gap-2 text-center sm:text-left",e),...t})}function ro({className:e,...t}){return n.jsx("div",{"data-slot":"dialog-footer",className:D("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}const Vs=d.forwardRef(({className:e,...t},s)=>n.jsx(hs,{ref:s,"data-slot":"dialog-title",className:D("text-lg leading-none font-semibold",e),...t}));Vs.displayName=hs.displayName;const Hs=d.forwardRef(({className:e,...t},s)=>n.jsx(gs,{ref:s,"data-slot":"dialog-description",className:D("text-muted-foreground text-sm",e),...t}));Hs.displayName=gs.displayName;const wn={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyApNtEkpd38KXPSS60lAQE8dBjZBd8orPQ",VITE_FIREBASE_APP_ID:"1:361326467083:web:f83bf156d030dcf463cf0e",VITE_FIREBASE_AUTH_DOMAIN:"plv-classroom-assigment.firebaseapp.com",VITE_FIREBASE_MEASUREMENT_ID:"G-BQJCQ8B3H7",VITE_FIREBASE_MESSAGING_SENDER_ID:"361326467083",VITE_FIREBASE_PROJECT_ID:"plv-classroom-assigment",VITE_FIREBASE_STORAGE_BUCKET:"plv-classroom-assigment.firebasestorage.app"},xn=["VITE_FIREBASE_API_KEY","VITE_FIREBASE_AUTH_DOMAIN","VITE_FIREBASE_PROJECT_ID","VITE_FIREBASE_STORAGE_BUCKET","VITE_FIREBASE_MESSAGING_SENDER_ID","VITE_FIREBASE_APP_ID"],vn=()=>{const e=[],t=xn.reduce((s,a)=>{const r=wn[a];return r?s[a]=r:e.push(a),s},{});if(e.length>0)throw new Error(`Missing Firebase environment variables: ${e.join(", ")}. Please create a .env file based on .env.example and restart the dev server.`);return t},bn=()=>{const e=vn(),t={apiKey:e.VITE_FIREBASE_API_KEY,authDomain:e.VITE_FIREBASE_AUTH_DOMAIN,projectId:e.VITE_FIREBASE_PROJECT_ID,storageBucket:e.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:e.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:e.VITE_FIREBASE_APP_ID};try{return Qa().length===0?(console.log("Initializing Firebase app with projectId:",t.projectId),Ka(t)):Ya()}catch(s){throw console.error("Failed to initialize Firebase app:",s),new Error(`Firebase initialization failed: ${s instanceof Error?s.message:"Unknown error"}`)}};let lt=null,ct=null;const Se=()=>(lt||(lt=bn()),lt),Sn=()=>{if(!ct)try{const e=Se();ct=qa(e),console.log("Firestore instance initialized for project:",e.options.projectId)}catch(e){throw console.error("Failed to initialize Firestore:",e),new Error(`Firestore initialization failed: ${e instanceof Error?e.message:"Unknown error"}`)}return ct};function Ye(e){if(!e)return"";const[t,s]=e.split(":").map(Number),a=t>=12?"PM":"AM";return`${t===0?12:t>12?t-12:t}:${s.toString().padStart(2,"0")} ${a}`}function Ee(e){if(!e)return"";const[t,s]=e.split(" "),[a,r]=t.split(":").map(Number);let o=a;return s==="AM"&&a===12?o=0:s==="PM"&&a!==12&&(o=a+12),`${o.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function no(){const e=[];for(let t=7;t<=20;t++)for(let s=0;s<60;s+=30){const a=`${t.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`;e.push(Ye(a))}return e}function oo(e){const t=Ee(e),[s]=t.split(":").map(Number);return s>=7&&s<=20}function io(e,t){const s=Ee(e),a=Ee(t),[r,o]=s.split(":").map(Number),[l,i]=a.split(":").map(Number),c=r*60+o,f=(l*60+i-c)/60;return f>=.5&&f<=8}function lo(e,t){if(!e)return t;const s=Ee(e),[a,r]=s.split(":").map(Number),o=a*60+r;return t.filter(l=>{const i=Ee(l),[c,u]=i.split(":").map(Number),m=c*60+u,x=(m-o)/60;return m>o&&x<=8&&c<=20})}function co(e,t){return`${e} - ${t}`}function Le(e,t){if(!e||!t)return!1;const s=new Date,[a,r,o]=e.split("-").map(Number),l=Ee(t),[i,c]=l.split(":").map(Number),u=new Date(a,r-1,o,i,c,0,0),m=new Date(s.getTime()+300*1e3);return u<=m}let dt=null;const ae=()=>{if(!dt){const e=Se();dt=Ga(e)}return dt},E={USERS:"users",CLASSROOMS:"classrooms",BOOKING_REQUESTS:"bookingRequests",SCHEDULES:"schedules",SIGNUP_REQUESTS:"signupRequests",SIGNUP_HISTORY:"signupHistory"};let We=null,Qe=null;const C=()=>{if(Qe)throw Qe;if(We)return We;try{return We=Sn(),We}catch(e){throw Qe=e instanceof Error?e:new Error(String(e)),Qe}};let O=null;const vt=new Set,En={classrooms:new Set,bookingRequests:new Set,schedules:new Set,signupRequests:new Set,users:new Set};let Z=[];const ee=()=>{console.log(`Unsubscribing from ${Z.length} real-time listeners.`),Z.forEach(e=>{try{e()}catch(t){console.warn("Error during listener unsubscribe:",t)}}),Z=[]},Nn=(e,t)=>{const s=C(),a=_(s,E.CLASSROOMS),r=q(a,$("name")),o=Ne(r,l=>{try{const i=l.docs.map(c=>{const u=c.data();return Ie(c.id,u)});e(i)}catch(i){console.error("Classrooms listener error:",i),t?.(i instanceof Error?i:new Error(String(i)))}},l=>{console.error("Classrooms listener error:",l),t?.(l)});return Z.push(o),o},es=(e,t,s)=>{const a=C(),r=_(a,E.BOOKING_REQUESTS);let o;s?o=q(r,G("facultyId","==",s),$("requestDate","desc")):o=q(r,$("requestDate","desc"));const l=Ne(o,i=>{try{const c=i.docs.map(u=>{const m=u.data();return ve(u.id,m)});e(c)}catch(c){console.error("BookingRequests listener error:",c),t?.(c instanceof Error?c:new Error(String(c)))}},i=>{console.error("BookingRequests listener error:",i),t?.(i)});return Z.push(l),l},ts=(e,t,s)=>{const a=C(),r=_(a,E.SCHEDULES);let o;s?o=q(r,G("facultyId","==",s),$("date"),$("startTime")):o=q(r,$("date"),$("startTime"));const l=Ne(o,i=>{try{const c=i.docs.map(u=>{const m=u.data();return be(u.id,m)});e(c)}catch(c){console.error("Schedules listener error:",c),t?.(c instanceof Error?c:new Error(String(c)))}},i=>{console.error("Schedules listener error:",i),t?.(i)});return Z.push(l),l},jn=(e,t)=>{const s=C(),a=_(s,E.SIGNUP_REQUESTS),r=q(a,$("requestDate","desc")),o=Ne(r,l=>{try{const i=l.docs.map(c=>{const u=c.data();return de(c.id,u)});e(i)}catch(i){console.error("SignupRequests listener error:",i),t?.(i instanceof Error?i:new Error(String(i)))}},l=>{console.error("SignupRequests listener error:",l),t?.(l)});return Z.push(o),o},Rn=(e,t)=>{const s=C(),a=_(s,E.SIGNUP_HISTORY),r=q(a,$("resolvedAt","desc")),o=Ne(r,l=>{try{const i=l.docs.map(c=>{const u=c.data();return Ae(c.id,u)});e(i)}catch(i){console.error("SignupHistory listener error:",i),t?.(i instanceof Error?i:new Error(String(i)))}},l=>{console.error("SignupHistory listener error:",l),t?.(l instanceof Error?l:new Error(String(l)))});return Z.push(o),o},Cn=(e,t)=>{const s=C(),a=_(s,E.USERS),r=q(a,$("name")),o=Ne(r,l=>{try{const i=l.docs.map(c=>{const u=ge(c);return oe(c.id,u)});e(i)}catch(i){console.error("Users listener error:",i),t?.(i instanceof Error?i:new Error(String(i)))}},l=>{console.error("Users listener error:",l),t?.(l)});return Z.push(o),o},H=e=>{vt.forEach(t=>{try{t(e)}catch(s){console.error("Auth listener error:",s)}})},F=()=>new Date().toISOString(),$e=e=>Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0)),Gs=async(e,t)=>{if(!t||t.length===0)return;const s=C(),a=Ba(s);for(const r of t){const o=L(s,e,r.id),l=$e(r.data);a.set(o,{...l,updatedAt:F()},{merge:!0})}await a.commit()},bt=e=>Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0));class ss extends Error{status;constructor(t,s){super(s),this.name="AuthStatusError",this.status=t}}const oe=(e,t)=>({id:e,email:t.email,name:t.name,role:t.role,department:t.department,status:t.status,failedLoginAttempts:t.failedLoginAttempts||0,accountLocked:t.accountLocked||!1,lockedUntil:t.lockedUntil}),ge=e=>{const t=e.data();if(!t)throw new Error("User record is missing.");return t},kn=async e=>{const t=e.toLowerCase(),s=C(),a=_(s,E.USERS),r=q(a,G("emailLower","==",t)),o=await W(r);if(o.empty)return null;const l=o.docs[0],i=ge(l);return{id:l.id,record:i}},In=async e=>{const t=C(),s=L(t,E.USERS,e),a=await Q(s);if(!a.exists())return null;const r=ge(a);return oe(a.id,r)},Ie=(e,t)=>({id:e,name:t.name,capacity:t.capacity,equipment:Array.isArray(t.equipment)?t.equipment:[],building:t.building,floor:t.floor,isAvailable:t.isAvailable}),ve=(e,t)=>({id:e,facultyId:t.facultyId,facultyName:t.facultyName,classroomId:t.classroomId,classroomName:t.classroomName,date:t.date,startTime:t.startTime,endTime:t.endTime,purpose:t.purpose,status:t.status,requestDate:t.requestDate,adminFeedback:t.adminFeedback}),be=(e,t)=>({id:e,classroomId:t.classroomId,classroomName:t.classroomName,facultyId:t.facultyId,facultyName:t.facultyName,date:t.date,startTime:t.startTime,endTime:t.endTime,purpose:t.purpose,status:t.status}),de=(e,t)=>({id:e,userId:t.uid,email:t.email,name:t.name,department:t.department,requestDate:t.requestDate,status:t.status,adminFeedback:t.adminFeedback,resolvedAt:t.resolvedAt}),Ae=(e,t)=>({id:e,userId:t.uid,email:t.email,name:t.name,department:t.department,requestDate:t.requestDate,status:t.status,adminFeedback:t.adminFeedback,resolvedAt:t.resolvedAt,processedBy:t.processedBy});let as=!1,St=null,Y=null,Pe=!1;const Te=async(e,t={})=>{const s=C(),a=L(s,E.USERS,e.uid),r=await Q(a),o=t.email??e.email;if(!o)throw new Error("Authenticated user is missing an email address.");const l=o.toLowerCase(),i=F();if(!r.exists()){const x=t.role==="admin";let w=x?"approved":"pending",N=t.department,b=t.name??e.displayName??o;if(!x&&!t.status)try{const P=await Ue.getById(e.uid);P&&P.status==="approved"&&(w="approved",N=N||P.department,b=t.name||P.name||e.displayName||o)}catch(P){console.warn("Could not fetch signup request for user:",e.uid,P)}const v={email:o,emailLower:l,name:b,role:t.role??(x?"admin":"faculty"),department:N,status:t.status??w,photoURL:t.photoURL??e.photoURL??void 0,lastSignInAt:i,createdAt:i,updatedAt:i},A=bt(v);return await ft(a,A),A}const c=ge(r),u={...t,lastSignInAt:i,updatedAt:i};u.role===void 0&&(u.role=c.role),u.status===void 0&&(u.status=c.status),e.displayName&&e.displayName!==c.name&&(u.name=e.displayName),e.photoURL&&e.photoURL!==c.photoURL&&(u.photoURL=e.photoURL);const m=bt(u);return Object.keys(m).some(x=>x!=="lastSignInAt"&&x!=="updatedAt"&&m[x]!==c[x])||!c.lastSignInAt?(await ie(a,m),{...c,...m}):c},Ce=()=>{if(as)return;as=!0,St=new Promise(t=>{Y=t});const e=ae();Wa(e,async t=>{if(Pe){console.log("Auth state change suppressed temporarily (registration/reactivation flow)"),Y&&(Y(),Y=null);return}if(!t){O=null,H(null),ee(),Y&&(Y(),Y=null);return}try{try{await t.getIdToken(!0)}catch(r){console.error("Token refresh failed in auth listener:",r),O=null,H(null),ee(),Y&&(Y(),Y=null);return}const s=await Te(t),a=oe(t.uid,s);a.status!=="approved"?(O=null,H(null),ee()):(O=a,H(a))}catch(s){console.error("Auth state listener error:",s),O=null,H(null),ee()}finally{Y&&(Y(),Y=null)}})},An=e=>{switch(e.code){case"auth/invalid-email":return"The provided email address is invalid.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Invalid email or password.";case"auth/email-already-in-use":return"This email is already registered.";case"auth/weak-password":return"Password should be at least 6 characters long.";case"auth/too-many-requests":return"Too many attempts. Please try again later.";case"auth/requires-recent-login":return"Please sign in again before updating your password.";default:return"An authentication error occurred."}},J={async handleRejectedUserReactivation(e,t,s,a){if(!await _e.getByEmail(e))return console.log(`Reactivation attempt for non-existent user ${e}. Treating as new registration.`),this.registerFaculty(e,t,s,a);Ce();const o=ae();Pe=!0;try{const i=(await Ot(o,e,t)).user;i&&await $t(i,{displayName:s}).catch(()=>{});const c=await Te(i,{email:e,name:s,department:a,role:"faculty",status:"pending"}),u=C(),m=F(),f={uid:i.uid,email:c.email,emailLower:c.emailLower,name:c.name,department:a,status:"pending",requestDate:m,createdAt:m,updatedAt:m};return await ft(L(u,E.SIGNUP_REQUESTS,i.uid),f),await Mt(i).catch(()=>{}),{request:de(i.uid,f)}}finally{Pe=!1,await se(o).catch(()=>{}),O=null,H(null)}},async registerFaculty(e,t,s,a){Ce();const r=ae();Pe=!0;const l=(await Ha(r,e,t)).user;try{l&&await $t(l,{displayName:s}).catch(()=>{});const i=await Te(l,{email:e,name:s,department:a,role:"faculty",status:"pending"}),c=C(),u=F(),m={uid:l.uid,email:i.email,emailLower:i.emailLower,name:i.name,department:a,status:"pending",requestDate:u,createdAt:u,updatedAt:u};return await ft(L(c,E.SIGNUP_REQUESTS,l.uid),m),await Mt(l).catch(()=>{}),{request:de(l.uid,m)}}catch(i){console.error("Signup failed, cleaning up Auth user:",i);try{await l.delete(),console.log("Auth user deleted successfully")}catch(c){console.error("Failed to delete Auth user:",c)}throw i}finally{Pe=!1,await se(r).catch(()=>{}),O=null,H(null)}},async signIn(e,t){Ce();const s=ae(),a=C(),r=Je(Se());try{const l=(await Ot(s,e,t)).user;try{await l.getIdToken(!0)}catch(u){console.warn("Failed to refresh token on sign in:",u)}const i=await Te(l),c=oe(l.uid,i);if(c.accountLocked&&c.lockedUntil){const u=new Date(c.lockedUntil),m=new Date;if(m<u){await se(s),O=null,H(null);const f=Math.ceil((u.getTime()-m.getTime())/6e4);throw new Error(`Account is locked due to too many failed login attempts. Please try again in ${f} minute${f!==1?"s":""}.`)}}if(c.status!=="approved")throw await se(s),O=null,H(null),ee(),new ss(c.status,c.status==="pending"?"Your account is awaiting administrator approval.":"Your account was rejected. Please contact the administrator.");try{await De(r,"resetFailedLogins")(),console.log("âœ… Failed login attempts reset")}catch(u){console.warn("âš ï¸ Failed to call resetFailedLogins cloud function:",u);try{const m=L(a,E.USERS,l.uid);await ie(m,{failedLoginAttempts:0,accountLocked:!1,lockedUntil:null,lastSignInAt:F(),updatedAt:F()})}catch(m){console.error("Failed to reset login attempts (fallback):",m)}}return O=c,H(c),c}catch(o){if(o instanceof ss)throw o;if(console.log("ðŸ” Login error details:",{error:o,code:o&&typeof o=="object"&&"code"in o?o.code:"no-code",message:o instanceof Error?o.message:"unknown"}),o&&typeof o=="object"&&"code"in o&&o.code?.startsWith("auth/")){console.log("ðŸ”’ Calling trackFailedLogin for:",e);try{const u=(await De(r,"trackFailedLogin")({email:e})).data;if(console.log("âœ… trackFailedLogin response:",u),u.locked)throw new Error(u.message||"Account locked due to too many failed login attempts. Please try again in 30 minutes.");if(u.message)throw new Error(u.message)}catch(i){if(console.error("âŒ trackFailedLogin error:",i),i instanceof Error&&(i.message.includes("Account locked")||i.message.includes("attempts remaining")))throw i;console.warn("âš ï¸ Failed to track login attempt:",i)}}throw o instanceof Error&&(o.message.includes("Account locked")||o.message.includes("attempts remaining"))?o:new Error("Invalid credentials. Please check your email and password.")}},async signOut(){const e=ae();await se(e).catch(()=>{}),O=null,H(null),ee()},async resetPassword(e){const t=ae();try{return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?(await Va(t,e),{success:!0,message:"Password reset instructions sent. If an account exists with this email, you will receive a link shortly."}):{success:!1,message:"Please enter a valid email address."}}catch(s){if(console.error("Password reset error:",s),s&&typeof s=="object"&&"code"in s)switch(s.code){case"auth/invalid-email":return{success:!1,message:"Please enter a valid email address."};case"auth/too-many-requests":return{success:!1,message:"Too many reset attempts. Please try again later."};case"auth/missing-email":return{success:!1,message:"Please enter an email address."};default:return{success:!1,message:"Unable to process request. Please try again or contact support."}}return{success:!1,message:"An unexpected error occurred. Please try again."}}},async confirmPasswordReset(e,t){const s=ae();try{return await za(s,e,t),{success:!0,message:"Password has been reset successfully. You can now log in with your new password."}}catch(a){const r=a;let o="Failed to reset password. The link may be invalid or expired.";return r.code==="auth/invalid-action-code"?o="The password reset link is invalid or has expired. Please request a new one.":r.code==="auth/weak-password"&&(o="The new password is too weak. Please choose a stronger password."),console.error("Confirm password reset error:",a),{success:!1,message:o}}},async updatePassword(e,t){const s=ae(),a=s.currentUser;if(!a||!a.email)return{success:!1,message:"No authenticated user found or user has no email."};try{const r=Oa.credential(a.email,e);return await $a(a,r),await Ma(a,t),await se(s).catch(()=>{}),O=null,H(null),ee(),{success:!0,message:"Password updated successfully. You have been logged out for security.",requiresSignOut:!0}}catch(r){const o=r;return o.code==="auth/wrong-password"||o.code==="auth/invalid-credential"?{success:!1,message:"The current password you entered is incorrect."}:{success:!1,message:An(o)}}},async getCurrentUser(){if(Ce(),St&&await St,O)return O;const e=ae(),t=e.currentUser;if(!t)return null;try{try{await t.getIdToken(!0)}catch(r){return console.warn("Failed to refresh token:",r),await se(e),O=null,H(null),ee(),null}const s=await Te(t),a=oe(t.uid,s);return a.status!=="approved"?(await se(e),O=null,H(null),ee(),null):(O=a,a)}catch(s){return console.error("Failed to fetch current user:",s),await se(e).catch(()=>{}),O=null,H(null),ee(),null}},async isAuthenticated(){return!!await J.getCurrentUser()},onAuthStateChange(e,t){return Ce(),vt.add(e),{data:{subscription:{unsubscribe:()=>{try{vt.delete(e)}catch(s){console.error("Failed to remove auth listener",s),t?.("Failed to unsubscribe from auth updates")}}}}}},async signOutDueToIdleTimeout(){console.log("ðŸ•’ User session expired due to inactivity - logging out");const e=ae();await se(e).catch(()=>{}),O=null,H(null),ee()}},_e={async getAll(){const e=C(),t=_(e,E.USERS),s=q(t,$("name"));return(await W(s)).docs.map(r=>{const o=ge(r);return oe(r.id,o)})},async getByEmail(e){const t=await kn(e);return t?oe(t.id,t.record):null},async getById(e){return In(e)},async update(e,t){const s=C(),a=L(s,E.USERS,e),r={updatedAt:F()};typeof t.email=="string"&&(r.email=t.email,r.emailLower=t.email.toLowerCase()),typeof t.name=="string"&&(r.name=t.name),typeof t.role=="string"&&(r.role=t.role),t.department!==void 0&&(r.department=t.department),t.status&&(r.status=t.status);const o=bt(r);Object.keys(o).length>0&&await ie(a,o);const l=await Q(a);if(!l.exists())throw new Error("User not found");const i=ge(l),c=oe(l.id,i);return O?.id===e&&c.status==="approved"&&(O=c,H(c)),c},async updateStatus(e,t,s={}){return _e.update(e,{...s,status:t})},async unlockAccount(e){const t=C(),s=L(t,E.USERS,e);await ie(s,{failedLoginAttempts:0,accountLocked:!1,lockedUntil:null,updatedAt:F()});const a=await Q(s);if(!a.exists())throw new Error("User not found");const r=ge(a);return oe(a.id,r)},async delete(e){const t=C(),s=L(t,E.USERS,e);await ye(s),O?.id===e&&await J.signOut()}},uo={async getAll(){const e=C(),t=_(e,E.CLASSROOMS),s=q(t,$("name"));return(await W(s)).docs.map(r=>{const o=r.data();return Ie(r.id,o)})},async getById(e){const t=C(),s=L(t,E.CLASSROOMS,e),a=await Q(s);if(!a.exists())return null;const r=a.data();return Ie(a.id,r)},async create(e){const t=C(),s={...e,createdAt:F(),updatedAt:F()},a=await Oe(_(t,E.CLASSROOMS),s);return Ie(a.id,s)},async update(e,t){const s=C(),a=L(s,E.CLASSROOMS,e),o={...$e(t),updatedAt:F()};await ie(a,o);const l=await Q(a);if(!l.exists())throw new Error("Classroom not found");const i=l.data();return Ie(l.id,i)},async delete(e){const t=C(),s=L(t,E.CLASSROOMS,e);try{const a=async x=>{for(let N=0;N<x.length;N+=450){const b=x.slice(N,N+450),A=C().batch?.();if(A)b.forEach(P=>A.delete(P)),await A.commit();else for(const P of b)await ye(P)}},r=_(t,E.BOOKING_REQUESTS),o=q(r,G("classroomId","==",e)),l=await W(o),i=[];for(const x of l.docs){const w=x.data();Le(w.date,w.endTime)||i.push(L(t,E.BOOKING_REQUESTS,x.id))}const c=_(t,E.SCHEDULES),u=q(c,G("classroomId","==",e)),m=await W(u),f=[];for(const x of m.docs){const w=x.data();Le(w.date,w.endTime)||f.push(L(t,E.SCHEDULES,x.id))}i.length>0&&(await a(i),console.log(`Deleted ${i.length} related booking request(s) for classroom ${e}`)),f.length>0&&(await a(f),console.log(`Deleted ${f.length} related schedule(s) for classroom ${e}`))}catch(a){console.error("Error during cascade deletion for classroom:",a)}await ye(s)},async deleteCascade(e){const t=Se(),s=Je(t);return(await De(s,"deleteClassroomCascade")({classroomId:e})).data}},Pn=(e,t,s,a)=>e>=s&&e<a||t>s&&t<=a||e<=s&&t>=a,Ke={async getAll(){const e=C(),t=_(e,E.BOOKING_REQUESTS),s=q(t,$("requestDate","desc"));return(await W(s)).docs.map(r=>{const o=r.data();return ve(r.id,o)})},async getAllForFaculty(e){const t=C(),s=_(t,E.BOOKING_REQUESTS),a=q(s,G("facultyId","==",e),$("requestDate","desc"));return(await W(a)).docs.map(o=>{const l=o.data();return ve(o.id,l)})},async getById(e){const t=C(),s=L(t,E.BOOKING_REQUESTS,e),a=await Q(s);if(!a.exists())return null;const r=a.data();return ve(a.id,r)},async create(e){const t=C(),s={...e,status:"pending",requestDate:F(),createdAt:F(),updatedAt:F()},a=await Oe(_(t,E.BOOKING_REQUESTS),s);return ve(a.id,s)},async update(e,t){const s=C(),a=L(s,E.BOOKING_REQUESTS,e),o={...$e(t),updatedAt:F()};await ie(a,o);const l=await Q(a);if(!l.exists())throw new Error("Booking request not found");const i=l.data();return ve(l.id,i)},async delete(e){const t=C(),s=L(t,E.BOOKING_REQUESTS,e);await ye(s)},async checkConflicts(e,t,s,a,r){const o=C(),l=_(o,E.BOOKING_REQUESTS),i=q(l,G("classroomId","==",e),G("date","==",t),G("status","in",["pending","approved"])),u=(await W(i)).docs.map(m=>({id:m.id,...m.data()})).filter(m=>m.id!==r);for(const m of u)if(Tn(s,a,m.startTime,m.endTime))return!0;return!1},async bulkUpdate(e){const t=e.map(s=>({id:s.id,data:s.data}));await Gs(E.BOOKING_REQUESTS,t)}};function Tn(e,t,s,a){return e>=s&&e<a||t>s&&t<=a||e<=s&&t>=a}const ut={async getAll(){const e=C(),t=_(e,E.SCHEDULES),s=q(t,$("date"),$("startTime"));return(await W(s)).docs.map(r=>{const o=r.data();return be(r.id,o)})},async getAllForFaculty(e){const t=C(),s=_(t,E.SCHEDULES),a=q(s,G("facultyId","==",e),$("date"),$("startTime"));return(await W(a)).docs.map(o=>{const l=o.data();return be(o.id,l)})},async getById(e){const t=C(),s=L(t,E.SCHEDULES,e),a=await Q(s);if(!a.exists())return null;const r=a.data();return be(a.id,r)},async create(e){const t=C(),s={...e,createdAt:F(),updatedAt:F()},a=await Oe(_(t,E.SCHEDULES),s);return be(a.id,s)},async update(e,t){const s=C(),a=L(s,E.SCHEDULES,e),o={...$e(t),updatedAt:F()};await ie(a,o);const l=await Q(a);if(!l.exists())throw new Error("Schedule not found");const i=l.data();return be(l.id,i)},async delete(e){const t=C(),s=L(t,E.SCHEDULES,e);await ye(s)},async checkConflict(e,t,s,a,r){const o=C(),l=_(o,E.SCHEDULES);return(await W(q(l,G("classroomId","==",e),G("date","==",t)))).docs.some(c=>{if(r&&c.id===r)return!1;const u=c.data();return u.status==="cancelled"?!1:Pn(s,a,u.startTime,u.endTime)})},async cancelApprovedBooking(e){const t=await J.getCurrentUser();if(!t||t.role!=="admin")throw new Error("Only administrators can cancel approved bookings");const s=C(),a=L(s,E.SCHEDULES,e);if(!(await Q(a)).exists())throw new Error("Schedule not found");await ie(a,{status:"cancelled",updatedAt:F()})}},Ue={async getAll(){const e=C(),t=_(e,E.SIGNUP_REQUESTS),s=q(t,$("requestDate","desc"));return(await W(s)).docs.map(r=>{const o=r.data();return de(r.id,o)})},async getById(e){const t=C(),s=L(t,E.SIGNUP_REQUESTS,e),a=await Q(s);if(!a.exists())return null;const r=a.data();return de(a.id,r)},async getByEmail(e){const t=e.toLowerCase(),s=C(),a=_(s,E.SIGNUP_REQUESTS),r=q(a,G("emailLower","==",t),G("status","==","pending")),o=await W(r);if(o.empty)return null;const l=o.docs[0],i=l.data();return de(l.id,i)},async create(e){const t=C(),s=F(),a={uid:e.userId,email:e.email,emailLower:e.email.toLowerCase(),name:e.name,department:e.department,status:"pending",requestDate:s,adminFeedback:e.adminFeedback,resolvedAt:e.resolvedAt,createdAt:s,updatedAt:s},r=await Oe(_(t,E.SIGNUP_REQUESTS),a);return de(r.id,a)},async update(e,t){const s=C(),a=L(s,E.SIGNUP_REQUESTS,e),r=$e(t),o={...r,updatedAt:F()};typeof r.email=="string"&&(o.emailLower=r.email.toLowerCase()),await ie(a,o);const l=await Q(a);if(!l.exists())throw new Error("Signup request not found");const i=l.data();return de(l.id,i)},async delete(e){const t=C(),s=L(t,E.SIGNUP_REQUESTS,e);await ye(s)},async rejectAndCleanup(e,t,s){const a=await this.getById(e);if(!a)throw new Error("Signup request not found");const r=F(),o=await Et.create({userId:a.userId,email:a.email,name:a.name,department:a.department,requestDate:a.requestDate,status:"rejected",adminFeedback:s,resolvedAt:r,processedBy:t});try{const l=Se(),i=Je(l),u=await De(i,"deleteUserAccount")({userId:a.userId});return console.log("Account deletion result:",u.data),await this.delete(e),o}catch(l){try{await Et.delete(o.id)}catch(i){console.error("Failed to clean up history record after failed rejection:",i)}throw l}},async bulkCleanupRejectedAccounts(){try{const e=Se(),t=Je(e);return(await De(t,"bulkCleanupRejectedAccounts")({})).data}catch(e){throw console.error("Bulk cleanup error:",e),new Error(`Failed to perform bulk cleanup: ${e instanceof Error?e.message:"Unknown error"}`)}},async bulkUpdate(e){const t=e.map(s=>({id:s.id,data:s.data}));await Gs(E.SIGNUP_REQUESTS,t)}},Et={async getAll(){const e=C(),t=_(e,E.SIGNUP_HISTORY),s=q(t,$("resolvedAt","desc"));return(await W(s)).docs.map(r=>{const o=r.data();return Ae(r.id,o)})},async getById(e){const t=C(),s=L(t,E.SIGNUP_HISTORY,e),a=await Q(s);if(!a.exists())return null;const r=a.data();return Ae(a.id,r)},async getByEmail(e){const t=e.toLowerCase(),s=C(),a=_(s,E.SIGNUP_HISTORY),r=q(a,G("emailLower","==",t),$("resolvedAt","desc"));return(await W(r)).docs.map(l=>{const i=l.data();return Ae(l.id,i)})},async create(e){const t=C(),s=F(),a={uid:e.userId,email:e.email,emailLower:e.email.toLowerCase(),name:e.name,department:e.department,requestDate:e.requestDate,status:e.status,adminFeedback:e.adminFeedback,resolvedAt:e.resolvedAt,processedBy:e.processedBy,createdAt:s,updatedAt:s},r=await Oe(_(t,E.SIGNUP_HISTORY),a);return Ae(r.id,a)},async delete(e){const t=C(),s=L(t,E.SIGNUP_HISTORY,e);await ye(s)}},ke={cleanup(){console.log("ðŸ§¹ Cleaning up real-time listeners..."),Z.forEach(e=>{try{e()}catch(t){console.error("Error unsubscribing listener:",t)}}),Z=[],Object.values(En).forEach(e=>{e.clear()})},subscribeToData(e,t){console.log("ðŸ”„ Setting up real-time listeners for user:",e?.email),this.cleanup();const{onClassroomsUpdate:s,onBookingRequestsUpdate:a,onSchedulesUpdate:r,onSignupRequestsUpdate:o,onSignupHistoryUpdate:l,onUsersUpdate:i,onError:c}=t;try{Nn(s,c),e?.role==="admin"?(es(a,c),ts(r,c),o&&jn(o,c),l&&Rn(l,c),i&&Cn(i,c)):e?.role==="faculty"&&(es(a,c,e.id),ts(r,c,e.id)),console.log(`âœ… Real-time listeners setup complete for ${e?.role||"anonymous"} user`)}catch(u){console.error("âŒ Failed to setup real-time listeners:",u),c?.(u instanceof Error?u:new Error(String(u)))}},getListenerCount(){return Z.length}};function Un({children:e}){const[t,s]=d.useState(""),[a,r]=d.useState(!1),[o,l]=d.useState(!1),[i,c]=d.useState(!1),u=async f=>{if(f.preventDefault(),!t.trim()){S.error("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){S.error("Please enter a valid email address");return}r(!0);try{const w=await J.resetPassword(t);w.success?(c(!0),S.success("Password reset email sent!",{description:"Please check your inbox for the reset link.",duration:5e3})):S.error("Unable to send reset email",{description:w.message,duration:5e3})}catch(w){console.error("Password reset error:",w),S.error("An error occurred",{description:"Please try again or contact your administrator.",duration:5e3})}finally{r(!1)}},m=f=>{l(f),s(""),c(!1),r(!1)};return n.jsxs(pn,{open:o,onOpenChange:m,children:[n.jsx($s,{asChild:!0,children:e}),n.jsxs(zs,{className:"sm:max-w-md",children:[n.jsxs(yn,{children:[n.jsx(Vs,{className:"text-xl font-semibold",children:"Reset Password"}),n.jsx(Hs,{children:i?"Check your email for reset instructions":"Enter your email address and we'll send you a link to reset your password."})]}),i?n.jsxs("div",{className:"space-y-6 pt-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center py-6 space-y-4",children:[n.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(La,{className:"h-8 w-8 text-green-600"})}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Email sent successfully!"}),n.jsxs("p",{className:"text-xs text-gray-600",children:["Check your inbox at ",n.jsx("span",{className:"font-medium",children:t})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"Don't see it? Check your spam folder."}),n.jsx("p",{className:"text-xs text-amber-600 font-medium",children:"âš ï¸ Link expires in 1 hour"})]})]}),n.jsx(me,{onClick:()=>l(!1),className:"w-full",children:"Close"})]}):n.jsxs("form",{onSubmit:u,className:"space-y-6 pt-4",noValidate:!0,children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"reset-email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ce,{id:"reset-email",type:"email",placeholder:"your.email@plv.edu.ph",value:t,onChange:f=>s(f.target.value),className:"pl-10",disabled:a,autoComplete:"email"})]}),n.jsx("p",{className:"text-xs text-gray-500",children:"You'll receive an email with a link to reset your password."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(me,{type:"button",variant:"outline",onClick:()=>l(!1),className:"flex-1",disabled:a,children:"Cancel"}),n.jsx(me,{type:"submit",className:"flex-1",disabled:a,children:a?"Sending...":"Send Reset Link"})]})]})]})]})}function Ln({onLogin:e,onSignup:t,users:s}){const[a,r]=d.useState(""),[o,l]=d.useState(""),[i,c]=d.useState({email:"",firstName:"",lastName:"",department:"",password:"",confirmPassword:""}),[u,m]=d.useState(!1),[f,x]=d.useState("login"),[w,N]=d.useState({email:"",password:""}),[b,v]=d.useState({firstName:"",lastName:"",email:"",department:"",password:"",confirmPassword:""}),[A,P]=d.useState(!1),[U,K]=d.useState(!1),[B,tt]=d.useState(!1),st=["Civil Engineering","Information Technology"],re=k=>{if(!k)return k;let j=k.replace(/[[\r\n\t]]/g,"");return j=j.replace(/[\u200B\u200C\u200D\uFEFF]/g,""),j=j.trim(),j},Re=k=>{const j={firstName:"",lastName:"",email:"",department:"",password:"",confirmPassword:""};let V=!1;return k.firstName.trim()||(j.firstName="First name is required",V=!0),k.lastName.trim()||(j.lastName="Last name is required",V=!0),k.email.trim()||(j.email="Email is required",V=!0),k.department||(j.department="Please select a department",V=!0),k.password?k.password.length<8&&(j.password="Password must be at least 8 characters long",V=!0):(j.password="Please create a password",V=!0),k.confirmPassword?k.password!==k.confirmPassword&&(j.confirmPassword="Passwords do not match",V=!0):(j.confirmPassword="Please confirm your password",V=!0),{errors:j,hasErrors:V}},Me=async k=>{k.preventDefault(),N({email:"",password:""});const j=re(o);j!==o&&l(j);const V={email:"",password:""};let X=!1;if(a.trim()||(V.email="Email is required",X=!0),j.trim()||(V.password="Password is required",X=!0),X){N(V);return}m(!0);try{await e(a,j)||l("")}finally{m(!1)}},ze=async k=>{k.preventDefault(),v({firstName:"",lastName:"",email:"",department:"",password:"",confirmPassword:""});const{errors:j,hasErrors:V}=Re(i);if(V){v(j);return}const X=re(i.password),xe=re(i.confirmPassword);(X!==i.password||xe!==i.confirmPassword)&&c(rt=>({...rt,password:X,confirmPassword:xe}));const at=`${i.firstName.trim()} ${i.lastName.trim()}`;await t(i.email,at,i.department,i.password)&&(c({email:"",firstName:"",lastName:"",department:"",password:"",confirmPassword:""}),setTimeout(()=>{x("login")},1500))};return n.jsxs("div",{className:"w-full space-y-6",children:[n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Welcome Back"}),n.jsx("p",{className:"text-gray-600",children:"Sign in to access the Digital Classroom Assignment System"})]}),n.jsxs(fn,{value:f,onValueChange:x,className:"w-full",children:[n.jsxs(Os,{className:"grid w-full grid-cols-2 mb-8 bg-gray-100 rounded-xl p-1 mx-auto max-w-full overflow-hidden",children:[n.jsx(wt,{value:"login",children:"Faculty Sign In"}),n.jsx(wt,{value:"signup",children:"Faculty Request"})]}),n.jsx(xt,{value:"login",className:"space-y-8 mt-8",children:n.jsxs("form",{onSubmit:Me,className:"space-y-8",noValidate:!0,children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ce,{id:"email",type:"email",placeholder:"your.email@plv.edu.ph",value:a,onChange:k=>{r(k.target.value),w.email&&N(j=>({...j,email:""}))},className:`pl-10 h-12 rounded-xl ${w.email?"border-red-500 focus-visible:ring-red-500":""}`,required:!0})]}),w.email&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(le,{className:"h-3 w-3"}),w.email]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"password",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ce,{id:"password",type:A?"text":"password",placeholder:"Enter your password",value:o,onChange:k=>{l(k.target.value),w.password&&N(j=>({...j,password:""}))},className:`pl-10 h-12 rounded-xl ${w.password?"border-red-500 focus-visible:ring-red-500":""}`,required:!0}),n.jsx("button",{type:"button",onClick:()=>P(!A),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":A?"Hide password":"Show password","aria-pressed":A,title:A?"Hide password":"Show password",children:A?n.jsx(nt,{className:"h-4 w-4"}):n.jsx(ot,{className:"h-4 w-4"})})]}),w.password&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(le,{className:"h-3 w-3"}),w.password]}),n.jsx("div",{className:"text-right",children:n.jsx(Un,{children:n.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 hover:underline font-medium",children:"Forgot password?"})})})]})]}),n.jsx(me,{type:"submit",className:"w-full h-12 bg-blue-600 hover:bg-blue-700 rounded-xl",disabled:u,children:u?"Signing In...":"Sign In"})]})}),n.jsx(xt,{value:"signup",className:"space-y-8 mt-8",children:n.jsxs("form",{onSubmit:ze,className:"space-y-8",noValidate:!0,children:[n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"signup-firstName",children:"First Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ce,{id:"signup-firstName",type:"text",placeholder:"First name",value:i.firstName,onChange:k=>{c(j=>({...j,firstName:k.target.value})),b.firstName&&v(j=>({...j,firstName:""}))},className:`pl-10 h-12 rounded-xl ${b.firstName?"border-red-500 focus-visible:ring-red-500":""}`,required:!0})]}),b.firstName&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(le,{className:"h-3 w-3"}),b.firstName]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"signup-lastName",children:"Last Name"}),n.jsxs("div",{className:"relative",children:[n.jsx(Bt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ce,{id:"signup-lastName",type:"text",placeholder:"Last name",value:i.lastName,onChange:k=>{c(j=>({...j,lastName:k.target.value})),b.lastName&&v(j=>({...j,lastName:""}))},className:`pl-10 h-12 rounded-xl ${b.lastName?"border-red-500 focus-visible:ring-red-500":""}`,required:!0})]}),b.lastName&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(le,{className:"h-3 w-3"}),b.lastName]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"signup-email",children:"Email Address"}),n.jsxs("div",{className:"relative",children:[n.jsx(mt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ce,{id:"signup-email",type:"email",placeholder:"your.email@plv.edu.ph",value:i.email,onChange:k=>{c(j=>({...j,email:k.target.value})),b.email&&v(j=>({...j,email:""}))},className:`pl-10 h-12 rounded-xl ${b.email?"border-red-500 focus-visible:ring-red-500":""}`,required:!0})]}),b.email&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(le,{className:"h-3 w-3"}),b.email]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"signup-department",children:"Department"}),n.jsxs(cn,{value:i.department,onValueChange:k=>{c(j=>({...j,department:k})),b.department&&v(j=>({...j,department:""}))},required:!0,children:[n.jsx(Fs,{className:`h-12 rounded-xl ${b.department?"border-red-500 focus-visible:ring-red-500":""}`,children:n.jsx(dn,{placeholder:"Select your department"})}),n.jsx(qs,{children:st.map(k=>n.jsx(Bs,{value:k,children:k},k))})]}),b.department&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(le,{className:"h-3 w-3"}),b.department]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"signup-password",children:"Create Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ce,{id:"signup-password",type:U?"text":"password",placeholder:"Enter a strong password",value:i.password,onChange:k=>{c(j=>({...j,password:k.target.value})),b.password&&v(j=>({...j,password:""}))},className:`pl-10 h-12 rounded-xl ${b.password?"border-red-500 focus-visible:ring-red-500":""}`,required:!0}),n.jsx("button",{type:"button",onClick:()=>K(!U),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":U?"Hide password":"Show password","aria-pressed":U,title:U?"Hide password":"Show password",children:U?n.jsx(nt,{className:"h-4 w-4"}):n.jsx(ot,{className:"h-4 w-4"})})]}),b.password?n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(le,{className:"h-3 w-3"}),b.password]}):n.jsxs("div",{className:"text-sm text-gray-700 text-left",children:[n.jsx("p",{className:"font-medium mb-1",children:"Password Requirements:"}),n.jsxs("ul",{className:"list-disc list-inside space-y-1 text-xs text-gray-600 text-left pl-4",children:[n.jsx("li",{children:"At least 8 characters long"}),n.jsx("li",{children:"Contains uppercase and lowercase letters"}),n.jsx("li",{children:"Contains at least one number"}),n.jsx("li",{children:"Contains at least one special character (e.g., !@#$%^&*)"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(ne,{htmlFor:"signup-confirm-password",children:"Confirm Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ce,{id:"signup-confirm-password",type:B?"text":"password",placeholder:"Re-enter your password",value:i.confirmPassword,onChange:k=>{c(j=>({...j,confirmPassword:k.target.value})),b.confirmPassword&&v(j=>({...j,confirmPassword:""}))},className:`pl-10 h-12 rounded-xl ${b.confirmPassword?"border-red-500 focus-visible:ring-red-500":""}`,required:!0}),n.jsx("button",{type:"button",onClick:()=>tt(!B),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":B?"Hide confirm password":"Show confirm password","aria-pressed":B,title:B?"Hide confirm password":"Show confirm password",children:B?n.jsx(nt,{className:"h-4 w-4"}):n.jsx(ot,{className:"h-4 w-4"})})]}),b.confirmPassword&&n.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[n.jsx(le,{className:"h-3 w-3"}),b.confirmPassword]})]}),n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Ve,{className:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Account Review"}),n.jsx("p",{className:"text-xs text-blue-700",children:"You can sign in with this password once the administrator approves your request. If the request is rejected, the account will remain inactive."})]})]})})]}),n.jsx(me,{type:"submit",className:"w-full h-12 bg-green-600 hover:bg-green-700 rounded-xl",children:"Request Faculty Account"})]})})]})]})}function rs(){return n.jsx("footer",{className:"bg-white/80 backdrop-blur-xl border-t border-gray-100 py-6 mt-12",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Â© 2025 Pamantasan ng Lungsod ng Valenzuela"}),n.jsx("p",{className:"text-sm text-gray-500",children:"College of Engineering and Information Technology"})]})})})}class _n extends d.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("ErrorBoundary caught an error:",t,s),(t.message.includes("timeout")||t.message.includes("timed out"))&&console.error("Timeout error detected:",t)}render(){return this.state.hasError?this.props.fallback||n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-pink-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[n.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-red-500 to-pink-600 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:n.jsx("div",{className:"text-white text-lg font-bold",children:"!"})}),n.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"Something went wrong"}),n.jsx("p",{className:"text-red-600 mb-6",children:this.state.error?.message||"An unexpected error occurred"}),n.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()},className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Refresh Page"})]})}):this.props.children}}function Ws({...e}){return n.jsx(Sa,{"data-slot":"alert-dialog",...e})}function mo({...e}){return n.jsx(Ea,{"data-slot":"alert-dialog-trigger",...e})}function Dn({...e}){return n.jsx(ba,{"data-slot":"alert-dialog-portal",...e})}const Qs=d.forwardRef(({className:e,...t},s)=>n.jsx(ys,{ref:s,"data-slot":"alert-dialog-overlay",className:D("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t}));Qs.displayName=ys.displayName;const kt=d.forwardRef(({className:e,...t},s)=>n.jsxs(Dn,{children:[n.jsx(Qs,{}),n.jsx(ws,{ref:s,"data-slot":"alert-dialog-content",className:D("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]}));kt.displayName=ws.displayName;function Ks({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-header",className:D("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Ys({className:e,...t}){return n.jsx("div",{"data-slot":"alert-dialog-footer",className:D("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Js({className:e,...t}){return n.jsx(Na,{"data-slot":"alert-dialog-title",className:D("text-lg font-semibold",e),...t})}function Zs({className:e,...t}){return n.jsx(ja,{"data-slot":"alert-dialog-description",className:D("text-muted-foreground text-sm",e),...t})}const Xs=d.forwardRef(({className:e,...t},s)=>n.jsx(xs,{ref:s,className:D(Ct(),e),...t}));Xs.displayName=xs.displayName;const ea=d.forwardRef(({className:e,...t},s)=>n.jsx(vs,{ref:s,className:D(Ct({variant:"outline"}),e),...t}));ea.displayName=vs.displayName;function Fn({isOpen:e,timeRemaining:t,onExtendSession:s,onLogout:a}){const[r,o]=d.useState(Math.ceil(t/1e3));d.useEffect(()=>{if(!e)return;const i=setInterval(()=>{const c=Math.ceil(t/1e3);o(c),c<=0&&a()},1e3);return()=>clearInterval(i)},[e,t,a]);const l=i=>{const c=Math.floor(i/60),u=i%60;return`${c}:${u.toString().padStart(2,"0")}`};return n.jsx(Ws,{open:e,children:n.jsxs(kt,{className:"sm:max-w-md",children:[n.jsxs(Ks,{children:[n.jsxs(Js,{className:"flex items-center gap-2",children:[n.jsx(_a,{className:"h-5 w-5 text-amber-500"}),"Session Timeout Warning"]}),n.jsxs(Zs,{className:"space-y-2",children:[n.jsx("p",{children:"Your session will expire due to inactivity. You will be automatically logged out in:"}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl font-mono font-bold text-amber-600",children:l(r)}),n.jsx("div",{className:"text-sm text-gray-500 mt-1",children:"minutes:seconds"})]}),n.jsx("p",{className:"text-sm text-gray-600",children:'Click "Stay Logged In" to extend your session, or you will be redirected to the login page.'})]})]}),n.jsxs(Ys,{className:"flex gap-2",children:[n.jsx(me,{variant:"outline",onClick:a,className:"flex-1",children:"Logout Now"}),n.jsxs(me,{onClick:s,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[n.jsx(Da,{className:"h-4 w-4 mr-2"}),"Stay Logged In"]})]})]})})}var qn=(e,t,s,a,r,o,l,i)=>{let c=document.documentElement,u=["light","dark"];function m(w){(Array.isArray(e)?e:[e]).forEach(N=>{let b=N==="class",v=b&&o?r.map(A=>o[A]||A):r;b?(c.classList.remove(...v),c.classList.add(o&&o[w]?o[w]:w)):c.setAttribute(N,w)}),f(w)}function f(w){i&&u.includes(w)&&(c.style.colorScheme=w)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)m(a);else try{let w=localStorage.getItem(t)||s,N=l&&w==="system"?x():w;m(N)}catch{}},Bn=d.createContext(void 0),On={setTheme:e=>{},themes:[]},$n=()=>{var e;return(e=d.useContext(Bn))!=null?e:On};d.memo(({forcedTheme:e,storageKey:t,attribute:s,enableSystem:a,enableColorScheme:r,defaultTheme:o,value:l,themes:i,nonce:c,scriptProps:u})=>{let m=JSON.stringify([s,t,o,e,i,l,a,r]).slice(1,-1);return d.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${qn.toString()})(${m})`}})});const ns=({...e})=>{const{theme:t="system"}=$n();return n.jsx(Fa,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-white group-[.toaster]:text-gray-900 group-[.toaster]:border-gray-300 group-[.toaster]:shadow-lg",title:"group-[.toast]:text-gray-900 group-[.toast]:font-semibold",description:"!group-[.toast]:text-gray-900",actionButton:"group-[.toast]:bg-blue-600 group-[.toast]:text-white group-[.toast]:hover:bg-blue-700",cancelButton:"group-[.toast]:bg-gray-200 group-[.toast]:text-gray-800 group-[.toast]:hover:bg-gray-300",error:"group-[.toaster]:bg-red-50 group-[.toaster]:text-red-900 group-[.toaster]:border-red-300",success:"group-[.toaster]:bg-green-50 group-[.toaster]:text-green-900 group-[.toaster]:border-green-300",warning:"group-[.toaster]:bg-amber-50 group-[.toaster]:text-amber-900 group-[.toaster]:border-amber-300",info:"group-[.toaster]:bg-blue-50 group-[.toaster]:text-blue-900 group-[.toaster]:border-blue-300"}},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})},Mn=({timeout:e,onIdle:t,onActive:s,onWarning:a,warningTime:r=300*1e3,disabled:o=!1})=>{const[l,i]=d.useState(!1),[c,u]=d.useState(e),m=d.useRef(null),f=d.useRef(null),x=d.useRef(null),w=d.useRef(Date.now()),N=d.useCallback(()=>{m.current&&(clearTimeout(m.current),m.current=null),f.current&&(clearTimeout(f.current),f.current=null),x.current&&(clearInterval(x.current),x.current=null)},[]),b=d.useCallback(()=>{const U=Date.now()+e;x.current=setInterval(()=>{const K=Date.now(),B=Math.max(0,U-K);u(B),B<=0&&(N(),i(!0),t())},1e3)},[e,t,N]),v=d.useCallback(()=>{if(o)return;N(),w.current=Date.now(),u(e),l&&(i(!1),s?.()),b();const P=e-r;P>0&&(f.current=setTimeout(()=>{a?.(r)},P)),m.current=setTimeout(()=>{i(!0),t()},e)},[o,e,r,l,t,s,a,N,b]),A=d.useCallback(()=>{v()},[v]);return d.useEffect(()=>{if(o){N();return}const P=["mousedown","mousemove","keypress","scroll","touchstart","click"];let U=null;const K=()=>{U||(U=setTimeout(()=>{U=null},1e3),v())};return P.forEach(B=>{document.addEventListener(B,K,!0)}),v(),()=>{P.forEach(B=>{document.removeEventListener(B,K,!0)}),N(),U&&clearTimeout(U)}},[o,v,N]),d.useEffect(()=>()=>{N()},[N]),{isIdle:l,timeRemaining:c,extendSession:A,resetTimer:v}},zn=Be.lazy(()=>jt(()=>import("./AdminDashboard-S-AaaD_6.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),Vn=Be.lazy(()=>jt(()=>import("./FacultyDashboard-Dut6UBYd.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,10,11,12,14]))),Hn=Be.lazy(()=>jt(()=>import("./SignupHistoryPage-Byl99uO1.js"),__vite__mapDeps([15,1,2,3,7,6,8,9,10,11,12])));function Gn(){const[e,t]=d.useState(null),[s,a]=d.useState([]),[r,o]=d.useState([]),[l,i]=d.useState([]),[c,u]=d.useState([]),[m,f]=d.useState([]),[x,w]=d.useState([]),[N,b]=d.useState(!0),[v,A]=d.useState(!1),[P,U]=d.useState(null),[K,B]=d.useState(!1),[tt,st]=d.useState(0),[re,Re]=d.useState(null),Me=d.useMemo(()=>e?m.filter(y=>y.facultyId===e.id):[],[m,e]),ze=d.useMemo(()=>e?r.filter(y=>y.facultyId===e.id):[],[r,e]),k=d.useCallback(y=>{if(console.log("ðŸ”„ Setting up real-time data listeners..."),!y){w([]),a([]),i([]),o([]),f([]),ke.cleanup();return}try{b(!0),ke.subscribeToData(y,{onClassroomsUpdate:p=>{console.log("ðŸ“ Real-time update: Classrooms",p.length),a(p)},onBookingRequestsUpdate:p=>{console.log("ðŸ“‹ Real-time update: Booking Requests",p.length),o(p)},onSchedulesUpdate:p=>{console.log("ðŸ“… Real-time update: Schedules",p.length),f(p)},onSignupRequestsUpdate:y.role==="admin"?p=>{console.log("ðŸ‘¥ Real-time update: Signup Requests",p.length),i(p)}:void 0,onSignupHistoryUpdate:y.role==="admin"?p=>{console.log("ðŸ“œ Real-time update: Signup History",p.length),u(p)}:void 0,onUsersUpdate:y.role==="admin"?p=>{console.log("ðŸ‘¤ Real-time update: Users",p.length),w(p)}:void 0,onError:p=>{console.error("âŒ Real-time listener error:",p),S.error("Real-time sync error. Some data may be outdated.")}}),y.role==="faculty"?(w([y]),i([]),u([])):y.role==="admin"&&Et.getAll().then(p=>{console.log("ðŸ“œ Loaded signup history:",p.length),u(p)}).catch(p=>{console.error("âŒ Failed to load signup history:",p);try{const h=p instanceof Error?p.message:String(p);S.error("Failed to load signup history",{description:h||"Please refresh the page or try again later.",duration:7e3})}catch(h){console.warn("Could not show toast for signup history error:",h)}}),console.log("âœ… Real-time listeners setup complete")}catch(p){console.error("âŒ Failed to setup real-time listeners:",p),S.error("Failed to setup real-time data sync")}finally{b(!1)}},[]),j=d.useCallback(async(y,p)=>{const h=J.signIn(y,p);S.promise(h,{success:g=>g?(t(g),k(g),`${g.role==="admin"?"Welcome back, Administrator":"Welcome back"}, ${g.name}!`):"Login failed. Please check your credentials.",error:g=>g instanceof Error?g.message:"An unknown login error occurred.",duration:4e3});try{return!!await h}catch{return!1}},[k]);d.useCallback(async(y,p)=>{try{const h=await J.signIn(y,p);if(h){t(h);const g=h.role==="admin"?"Welcome back, Administrator":"Welcome back";return S.success(`${g}, ${h.name}!`,{description:`You're logged in as ${h.role==="admin"?"Administrator":"Faculty"}`,duration:4e3}),k(h),!0}return y&&p&&S.error("Invalid credentials",{description:"Please check your email and password and try again."}),!1}catch(h){if(console.error("Login error:",h),h instanceof Error&&"status"in h){const R=h.status;if(R==="pending")return S.info("Awaiting approval",{description:"Your account is pending administrator approval. Watch your email for updates.",duration:6e3}),!1;if(R==="rejected")return S.error("Account rejected",{description:"Please contact the administrator for assistance.",duration:6e3}),!1}let g="Please check your email and password and try again.";if(h&&typeof h=="object"&&"code"in h){const R=h.code;switch(R){case"auth/invalid-email":g="Invalid email address format.";break;case"auth/user-not-found":g="No account found with this email address.";break;case"auth/wrong-password":g="Incorrect password. Please try again.";break;case"auth/too-many-requests":g="Too many login attempts from this device. Access temporarily restricted by Firebase security. Please wait 15-30 minutes or try password reset.";break;case"auth/user-disabled":g="This account has been disabled.";break;case"permission-denied":g="Permission denied. Please contact administrator.";break;default:"message"in h&&typeof h.message=="string"?g=h.message:g=`Authentication error: ${R}`}}else h instanceof Error&&h.message&&(h.message.includes("Account locked")||h.message.includes("Account is locked")||h.message.includes("attempts remaining"),g=h.message);return S.error("Login failed",{description:g,duration:6e3}),!1}},[k]);const V=d.useCallback(async(y,p,h,g)=>{try{try{if(await J.getCurrentUser()&&await Ue.getByEmail(y))return S.error("Request already pending",{description:"Please wait for an administrator to review your existing request."}),!1}catch(I){console.warn("Could not check for existing requests (possibly unauthenticated):",I instanceof Error?I.message:I)}let R;try{R=(await J.registerFaculty(y,g,p,h)).request}catch(I){if(I?.code==="auth/email-already-in-use")return console.log("Signup failed: email already in use. Directing user to sign in."),S.error("Account already exists",{description:"This email is already associated with an account. Please sign in or use the password reset link if you forgot your password.",duration:8e3}),!1;throw I}i(I=>{const T=I.filter(z=>z.id!==R.id);return[R,...T]});try{if(await J.getCurrentUser()){const T=await _e.getByEmail(y);T&&w(z=>[...z.filter(pe=>pe.id!==T.id),T])}}catch(I){console.warn("Could not load user data (possibly unauthenticated):",I instanceof Error?I.message:I)}return R&&S.success("Signup request submitted!",{description:"Your account has been created with pending status. An administrator will approve your access shortly.",duration:6e3}),!0}catch(R){console.error("Signup error:",R);let I="Unable to submit signup request.";if(R&&typeof R=="object")if("code"in R){const T=R.code;switch(T){case"auth/email-already-in-use":I="This email already has an account. Try signing in or resetting your password.";break;case"auth/weak-password":I="Password should be at least 6 characters and hard to guess.";break;case"auth/password-does-not-meet-requirements":I="Password must contain uppercase letter, lowercase letter, number, and special character.";break;case"permission-denied":I="Permission denied. Please check Firebase security rules.";break;default:"message"in R&&typeof R.message=="string"?I=R.message:I=`Firebase error: ${T}`}}else"message"in R&&typeof R.message=="string"&&(I=R.message);else R instanceof Error&&R.message&&(I=R.message);return S.error("Signup failed",{description:I,duration:8e3}),!1}},[]),X=d.useCallback(async()=>{try{console.log("ðŸ”´ Logout clicked - user:",e?.email),await J.signOut(),sessionStorage.setItem("logoutSuccess","true"),t(null),ke.cleanup(),a([]),o([]),i([]),f([]),w([]),console.log("âœ… User state cleared")}catch(y){console.error("âŒ Logout error:",y),t(null),sessionStorage.setItem("logoutError","true"),ke.cleanup(),a([]),o([]),i([]),f([]),w([])}},[e]),xe=d.useCallback(async()=>{console.log("ðŸ•’ Session expired due to inactivity");try{await J.signOutDueToIdleTimeout(),sessionStorage.setItem("sessionExpired","true"),t(null),a([]),o([]),i([]),f([]),w([]),B(!1)}catch(y){console.error("âŒ Idle timeout logout error:",y),sessionStorage.setItem("sessionExpired","true"),t(null),B(!1)}},[]),at=d.useCallback(y=>{console.log(`âš ï¸ Session warning - ${Math.ceil(y/1e3)}s remaining`),st(y),B(!0),S.warning("Session Expiring Soon",{description:`Your session will expire in ${Math.ceil(y/6e4)} minutes due to inactivity`,duration:8e3})},[]),It=d.useCallback(()=>{console.log("ðŸ”„ Session extended by user"),B(!1),S.success("Session extended successfully")},[]),{extendSession:rt}=Mn({timeout:1800*1e3,warningTime:300*1e3,onIdle:xe,onWarning:at,disabled:!e}),At=d.useCallback(async y=>{a(y)},[]),fe=d.useCallback(async(y,p,h,g,R=!1,I)=>{if(R&&Le(p,Ye(h)))return!0;try{return await Ke.checkConflicts(y,p,h,g,I)}catch(T){return console.error("Error checking conflicts:",T),S.error("Failed to check for conflicts"),!0}},[]),Pt=d.useCallback(async y=>{try{if(Le(y.date,Ye(y.startTime))){S.error("Cannot request time slots that have already passed");return}if(await fe(y.classroomId,y.date,y.startTime,y.endTime,!1)){S.error("Classroom conflict detected - time slot already booked or has pending request");return}const h=await Ke.create(y);o(g=>[...g,h]),S.success("Classroom request submitted!")}catch(p){console.error("Booking request error:",p);const h=p instanceof Error?p.message:"";h.includes("conflict")||h.includes("duplicate")?S.error("Request failed: time slot was just booked by another user"):S.error("Failed to submit booking request. Please try again.")}},[fe]),Tt=d.useCallback(async(y,p,h)=>{try{const g=r.find(T=>T.id===y);if(!g){S.error("Request not found");return}if(g.status!=="pending"){S.error("Request has already been processed");return}if(p){if(Le(g.date,Ye(g.startTime))){S.error("Cannot approve: booking time has already passed");return}if(await fe(g.classroomId,g.date,g.startTime,g.endTime,!1,y)){S.error("Cannot approve: conflicts with existing confirmed booking. Please reject this request.");return}}const R={status:p?"approved":"rejected"};h&&h.trim()&&(R.adminFeedback=h.trim());const I=await Ke.update(y,R);if(o(T=>T.map(z=>z.id===y?I:z)),p){const T=await ut.create({classroomId:g.classroomId,classroomName:g.classroomName,facultyId:g.facultyId,facultyName:g.facultyName,date:g.date,startTime:g.startTime,endTime:g.endTime,purpose:g.purpose,status:"confirmed"});f(z=>[...z,T])}S.success(p?"Request approved!":"Request rejected.")}catch(g){console.error("Approval error:",g),S.error("Failed to process request")}},[r]),Ut=d.useCallback(async(y,p,h,g=!1)=>{try{const R=l.find(T=>T.id===y);if(!R){S.error("Request not found");return}if(R.status!=="pending"){S.error("Request has already been processed");return}const I=new Date().toISOString();if(p){const T=await Ue.update(y,{status:"approved",adminFeedback:h||"Account approved",resolvedAt:I}),z=await _e.updateStatus(R.userId,"approved",{name:R.name,department:R.department,role:"faculty"});i(te=>te.map(pe=>pe.id===y?T:pe)),w(te=>{const pe=te.findIndex(na=>na.id===z.id);if(pe===-1)return[...te,z];const qt=[...te];return qt[pe]=z,qt}),S.success(`Faculty account approved for ${R.name}!`,{description:"They can now sign in with the password they created during signup.",duration:8e3})}else{if(!h||!h.trim()){S.error("Feedback is required when rejecting a request");return}if(!e){S.error("Admin user information not available");return}if(g){try{const T=await Ue.rejectAndCleanup(y,e.id,h.trim());i(z=>z.filter(te=>te.id!==y)),u(z=>[T,...z]),w(z=>z.filter(te=>te.id!==R.userId)),S.success(`Signup request rejected for ${R.name}.`,{description:"The account has been completely removed. They can submit a new signup request.",duration:6e3})}catch(T){console.error("Signup rejection error (bulk):",T),S.error("Failed to reject signup request")}return}Re({requestId:y,userId:R.userId,feedback:h.trim(),requestName:R.name});return}}catch(R){console.error("Signup approval error:",R);const I=R instanceof Error?R.message:"Unknown error occurred";S.error("Failed to process signup request",{description:I,duration:5e3})}},[l]),Lt=d.useCallback(async y=>{try{await ut.cancelApprovedBooking(y),f(p=>p.map(h=>h.id===y?{...h,status:"cancelled"}:h)),S.success("Booking cancelled!")}catch(p){console.error("Cancel schedule error:",p),S.error("Failed to cancel booking")}},[]),_t=d.useCallback(async y=>{try{const p=m.find(h=>h.facultyId===r.find(g=>g.id===y)?.facultyId&&h.date===r.find(g=>g.id===y)?.date&&h.startTime===r.find(g=>g.id===y)?.startTime&&h.endTime===r.find(g=>g.id===y)?.endTime&&h.classroomId===r.find(g=>g.id===y)?.classroomId);p&&(await ut.cancelApprovedBooking(p.id),f(h=>h.map(g=>g.id===p.id?{...g,status:"cancelled"}:g))),await Ke.update(y,{status:"rejected",adminFeedback:"Booking cancelled by administrator"}),o(h=>h.map(g=>g.id===y?{...g,status:"rejected",adminFeedback:"Booking cancelled by administrator"}:g)),S.success("Approved booking cancelled!")}catch(p){console.error("Cancel approved booking error:",p),S.error("Failed to cancel approved booking")}},[m,r]),Dt=d.useCallback(async y=>{try{const p=await _e.unlockAccount(y);w(h=>h.map(g=>g.id===y?p:g)),S.success("Account unlocked successfully!",{description:`${p.name}'s account has been unlocked and can now login.`,duration:5e3})}catch(p){console.error("Unlock account error:",p),S.error("Failed to unlock account",{description:"Please try again or contact support.",duration:5e3})}},[]),ta=d.useCallback(async()=>{if(!re||!e)return;const{requestId:y,userId:p,feedback:h,requestName:g}=re;try{const R=await Ue.rejectAndCleanup(y,e.id,h);i(I=>I.filter(T=>T.id!==y)),u(I=>[R,...I]),w(I=>I.filter(T=>T.id!==p)),S.success(`Signup request rejected for ${g}.`,{description:"The account has been completely removed. They can submit a new signup request.",duration:6e3})}catch(R){console.error("Failed to reject signup request:",R),S.error("Failed to reject signup request")}finally{Re(null)}},[re,e]),Ft=d.useCallback(()=>{Re(null),S.info("Rejection cancelled")},[]),sa=d.useMemo(()=>({user:e,classrooms:s,bookingRequests:r,signupRequests:l,signupHistory:c,schedules:m,users:x,onLogout:X,onClassroomUpdate:At,onRequestApproval:Tt,onSignupApproval:Ut,onCancelSchedule:Lt,onCancelApprovedBooking:_t,onUnlockAccount:Dt,checkConflicts:fe}),[e,s,r,l,c,m,x,X,At,Tt,Ut,Lt,_t,Dt,fe]),aa=d.useMemo(()=>({user:e,classrooms:s,schedules:Me,allSchedules:m,bookingRequests:ze,allBookingRequests:r,onLogout:X,onBookingRequest:Pt,checkConflicts:fe}),[e,s,Me,m,ze,r,X,Pt,fe]);if(d.useEffect(()=>{(async()=>{try{console.log("ðŸš€ Initializing app...");const p=await J.getCurrentUser();p?(console.log("âœ… Valid user session found:",p.email),t(p),console.log("ðŸ“Š Setting up real-time listeners..."),k(p),console.log("âœ… Real-time listeners setup")):console.log("â„¹ï¸ No valid session found"),console.log("âœ… App initialized successfully")}catch(p){console.error("âŒ Failed to initialize app:",p);const h=p instanceof Error?p.message:"Unknown error";U(`Failed to load application data: ${h}. Please refresh the page.`)}finally{console.log("âœ… Setting isLoading to false"),A(!0),b(!1)}})()},[k]),d.useEffect(()=>{const{data:{subscription:y}}=J.onAuthStateChange(async p=>{console.log("ðŸ‘¤ Auth state changed, new user:",p?.email||"none"),t(h=>{if(h?.id===p?.id)return console.log("â„¹ï¸ Same user, skipping update"),h;if(p&&!h){console.log("ðŸ“Š New user detected, setting up listeners...");try{k(p)}catch(g){console.error("Failed to setup listeners after auth change:",g)}}return p})},p=>{console.error("Auth error:",p),S.error("Authentication Error",{description:p,duration:8e3})});return()=>{y.unsubscribe(),ke.cleanup()}},[]),d.useEffect(()=>{e||(sessionStorage.getItem("logoutSuccess")==="true"&&(sessionStorage.removeItem("logoutSuccess"),S.success("Logged out successfully",{description:"You have been signed out",duration:4e3})),sessionStorage.getItem("logoutError")==="true"&&(sessionStorage.removeItem("logoutError"),S.error("Logged out with errors",{description:"Please refresh if you experience any issues",duration:5e3})),sessionStorage.getItem("sessionExpired")==="true"&&(sessionStorage.removeItem("sessionExpired"),S.warning("Session expired",{description:"You have been logged out due to inactivity",duration:5e3})))},[e]),Be.useEffect(()=>{},[e]),P)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-white to-pink-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[n.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-red-500 to-pink-600 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4",children:n.jsx("div",{className:"text-white text-lg font-bold",children:"!"})}),n.jsx("h1",{className:"text-2xl font-bold text-red-800 mb-4",children:"Application Error"}),n.jsx("p",{className:"text-red-600 mb-6",children:P}),n.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Refresh Page"}),n.jsx(Ge,{})]})});if(!v||N)return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"h-16 w-16 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full flex items-center justify-center shadow-lg mx-auto mb-4 animate-pulse",children:n.jsx("div",{className:"text-white text-lg font-bold",children:"PLV"})}),n.jsx("p",{className:"text-gray-600",children:"Loading..."}),n.jsx(Ge,{})]})});if(!e)return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex flex-col",children:[n.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:n.jsxs("div",{className:"text-center space-y-8 w-full max-w-md",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"h-24 w-24 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-full flex items-center justify-center shadow-lg",children:n.jsx("div",{className:"text-white text-2xl font-bold",children:"PLV"})})}),n.jsx("p",{className:"text-blue-600 mb-2",children:"PLV CEIT"}),n.jsx("h1",{className:"mb-6",children:"Digital Classroom"}),n.jsx("p",{className:"text-gray-600 mb-8",children:"Streamlined classroom assignment and reservation system for PLV CEIT."})]}),n.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-white/20",children:n.jsx(Ln,{onLogin:j,onSignup:V,users:x})})]})}),n.jsx(rs,{}),n.jsx(ns,{}),n.jsx(Ge,{})]});const ra=e;return n.jsx(_n,{children:n.jsx(Yr,{children:n.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[n.jsx("div",{className:"flex-1",children:n.jsx(d.Suspense,{fallback:n.jsx("div",{className:"p-8 flex items-center justify-center",children:n.jsx("div",{className:"text-gray-600",children:"Loadingâ€¦"})}),children:n.jsxs(Wr,{children:[n.jsx(ht,{path:"/admin/signups/history/:id?",element:n.jsx(Hn,{signupHistory:c})}),n.jsx(ht,{path:"/*",element:ra.role==="admin"?n.jsx(zn,{...sa}):n.jsx(Vn,{...aa})})]})})}),n.jsx(rs,{}),n.jsx(Fn,{isOpen:K,timeRemaining:tt,onExtendSession:()=>{rt(),It()},onLogout:xe}),n.jsx(ns,{}),n.jsx(Ws,{open:!!re,onOpenChange:y=>{y||Ft()},children:n.jsxs(kt,{children:[n.jsxs(Ks,{children:[n.jsx(Js,{children:"Reject and Delete Account?"}),n.jsxs(Zs,{children:["This will permanently delete the account and associated data for"," ",n.jsx("strong",{children:re?.requestName}),". This action cannot be undone."]})]}),n.jsxs(Ys,{children:[n.jsx(ea,{onClick:Ft,children:"Cancel"}),n.jsx(Xs,{onClick:ta,className:"ml-2 bg-red-600 text-white",children:"Confirm Delete"})]})]})}),n.jsx(Ge,{})]})})})}Xa.createRoot(document.getElementById("root")).render(n.jsx(Be.StrictMode,{children:n.jsx(Gn,{})}));export{Ws as A,me as B,gn as C,pn as D,so as E,no as F,lo as G,Ee as H,ce as I,io as J,oo as K,ne as L,ut as M,Ke as N,J as O,ao as P,cn as S,fn as T,$s as a,zs as b,D as c,yn as d,Vs as e,Hs as f,Fs as g,dn as h,qs as i,Bs as j,uo as k,Le as l,Ye as m,co as n,mo as o,kt as p,Ks as q,Js as r,Zs as s,Ys as t,ea as u,Xs as v,Os as w,wt as x,xt as y,ro as z};
