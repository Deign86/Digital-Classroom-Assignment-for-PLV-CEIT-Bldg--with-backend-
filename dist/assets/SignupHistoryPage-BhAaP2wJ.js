import{r as d,j as t}from"./radix-vendor-DJ-YvGDu.js";import{C as m,a as c,b as l,d as x}from"./card-Bx5riCd4.js";import{Q as g,R as u,u as p,B as j}from"./index-tRiAyvaw.js";import"./react-vendor-D3F3s8fL.js";import"./utils-vendor-Cr9tsIwC.js";import"./lucide-react-zzbXK0ST.js";import"./analytics-sonner-BjpdSZ9P.js";import"./firebase-firestore-CVEakIoC.js";import"./firebase-core-M-mnVknd.js";import"./firebase-auth-MTDr6AF2.js";import"./firebase-functions-D39bosM8.js";const r=s=>new Date(s).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});function D({signupHistory:s}){const{id:i}=g(),a=u(),{announce:n}=p();return d.useEffect(()=>{if(!i)return;const e=document.getElementById(`history-item-${i}`);if(e){e.scrollIntoView({behavior:"smooth",block:"center"}),e.classList.add("ring-2","ring-indigo-400","bg-indigo-50"),setTimeout(()=>e.classList.remove("ring-2","ring-indigo-400","bg-indigo-50"),2500);const o=(e.querySelector(".font-medium")||e.querySelector("h2")||e)?.textContent?.trim()??`Processed signup ${i}`;n?.(`Showing signup history for ${o}`,"polite")}},[i,s]),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-xl font-semibold",children:"Signup History"}),t.jsx("div",{children:t.jsx(j,{variant:"ghost",onClick:()=>a(-1),children:"Back"})})]}),t.jsx("div",{className:"grid gap-4",children:s.map(e=>t.jsxs(m,{id:`history-item-${e.id}`,className:"border-l-4 border-l-gray-300",children:[t.jsx(c,{children:t.jsxs(l,{children:[e.name," â€” ",e.email]})}),t.jsxs(x,{children:[t.jsxs("div",{className:"text-sm text-gray-600",children:["Department: ",e.department]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Requested: ",r(e.requestDate)]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Processed: ",r(e.resolvedAt)]}),t.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",e.status]}),e.adminFeedback&&t.jsx("div",{className:"mt-2 text-sm text-gray-700 italic",children:e.adminFeedback})]})]},e.id))})]})}export{D as default};
